# ğŸ—‚ï¸ æ ‡å‡†åŒ–é¡¹ç›®ç»“æ„

## ğŸ“ æ–°ç›®å½•ç»„ç»‡

### æ¨èçš„æ ‡å‡†ç»“æ„

```
canteen-menu-system/
â”œâ”€â”€ public/                      # âœ¨ å‰ç«¯é™æ€èµ„æºï¼ˆCloudflare Pageséƒ¨ç½²ç›®å½•ï¼‰
â”‚   â”œâ”€â”€ index.html              # ä¸»å±•ç¤ºé¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css           # å±•ç¤ºé¡µæ ·å¼
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ themes.js           # å››å­£ä¸»é¢˜é…ç½®
â”‚   â”‚   â””â”€â”€ display.js          # å±•ç¤ºé¡µé€»è¾‘
â”‚   â””â”€â”€ admin/                  # åå°ç®¡ç†æ¨¡å—
â”‚       â”œâ”€â”€ login.html          # ç™»å½•é¡µ
â”‚       â”œâ”€â”€ index.html          # ç®¡ç†é¡µ
â”‚       â”œâ”€â”€ css/
â”‚       â”‚   â”œâ”€â”€ login.css       # ç™»å½•é¡µæ ·å¼
â”‚       â”‚   â””â”€â”€ admin.css       # ç®¡ç†é¡µæ ·å¼
â”‚       â””â”€â”€ js/
â”‚           â”œâ”€â”€ login.js        # ç™»å½•é€»è¾‘
â”‚           â””â”€â”€ admin.js        # ç®¡ç†é€»è¾‘
â”œâ”€â”€ functions/                  # âš¡ Cloudflare Pages Functions (API)
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ [[path]].js        # APIè·¯ç”±å¤„ç†
â”œâ”€â”€ database/                   # ğŸ’¾ æ•°æ®åº“ç›¸å…³
â”‚   â”œâ”€â”€ schema.sql             # D1æ•°æ®åº“schema
â”‚   â””â”€â”€ migrations/            # æ•°æ®åº“è¿ç§»æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
â”œâ”€â”€ docs/                      # ğŸ“š æ–‡æ¡£ï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ api.md                # APIæ–‡æ¡£
â”œâ”€â”€ .gitignore                # Git å¿½ç•¥é…ç½®
â”œâ”€â”€ .github/                  # GitHub Actionsï¼ˆå¯é€‰ï¼‰
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml       # è‡ªåŠ¨éƒ¨ç½²é…ç½®
â”œâ”€â”€ package.json              # Node.js é¡¹ç›®é…ç½®
â”œâ”€â”€ wrangler.toml             # Cloudflare é…ç½®
â”œâ”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DEPLOY.md                 # éƒ¨ç½²æŒ‡å—
â”œâ”€â”€ QUICKSTART.md             # å¿«é€Ÿå¼€å§‹
â””â”€â”€ deploy.ps1                # Windows ä¸€é”®éƒ¨ç½²è„šæœ¬
```

## ğŸ¯ ç»“æ„ä¼˜åŠ¿

### 1. æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- `public/` - æ‰€æœ‰å‰ç«¯èµ„æº
- `functions/` - æ‰€æœ‰åç«¯API
- `database/` - æ•°æ®åº“ç›¸å…³æ–‡ä»¶

### 2. ä¾¿äºéƒ¨ç½²
- Cloudflare Pagesç›´æ¥éƒ¨ç½²`public/`ç›®å½•
- Functionsè‡ªåŠ¨è¯†åˆ«å¹¶éƒ¨ç½²

### 3. æ˜“äºç»´æŠ¤
- ç›¸å…³æ–‡ä»¶ç»„ç»‡åœ¨ä¸€èµ·
- éµå¾ªç°ä»£Webé¡¹ç›®è§„èŒƒ

### 4. çµæ´»éƒ¨ç½²
- æ”¯æŒ GitHub è‡ªåŠ¨éƒ¨ç½²
- æ”¯æŒ Wrangler CLI ç›´æ¥éƒ¨ç½²
- ç¬¦åˆ Cloudflare Pages è§„èŒƒ
- æ˜“äºåä½œå’Œç‰ˆæœ¬æ§åˆ¶

## ğŸ”„ å¦‚ä½•è¿ç§»

### å¿«é€Ÿè¿ç§»ï¼ˆæ¨èï¼‰

è¿è¡Œè‡ªåŠ¨è¿ç§»è„šæœ¬ï¼š

```powershell
.\migrate.ps1
```

### æ‰‹åŠ¨è¿ç§»

å‚è€ƒ `MIGRATION.md` æ–‡ä»¶çš„è¯¦ç»†è¯´æ˜ã€‚

## âš™ï¸ æ›´æ–°é…ç½®

### wrangler.toml
```toml
pages_build_output_dir = "public"
```

### package.json
```json
{
  "scripts": {
    "dev": "wrangler pages dev public --d1 DB=canteen_menu_db",
    "deploy": "wrangler pages deploy public",
    "db:init": "wrangler d1 execute canteen_menu_db --file=database/schema.sql"
  }
}
```

## ğŸ“‹ è®¿é—®è·¯å¾„

### å‰ç«¯é¡µé¢
- ä¸»é¡µé¢: `/` æˆ– `/index.html`
- åå°ç™»å½•: `/admin/login.html`
- åå°ç®¡ç†: `/admin/index.html`

### APIç«¯ç‚¹
- æ‰€æœ‰API: `/api/*`
- ç™»å½•: `/api/auth/login`
- èœå•: `/api/menu/current`

## âœ… æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬æ§åˆ¶**ï¼ˆä½¿ç”¨ Gitï¼‰
   - å®šæœŸæäº¤ä»£ç ï¼š`git commit -m "æè¿°"`
   - ä½¿ç”¨æœ‰æ„ä¹‰çš„ commit message
   - æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼š`git push`

2. **ä»£ç ç®¡ç†**ï¼ˆä¸ä½¿ç”¨ Gitï¼‰
   - å®šæœŸå¤‡ä»½é¡¹ç›®æ–‡ä»¶å¤¹
   - è®°å½•é‡è¦ä¿®æ”¹

3. **æ–‡ä»¶å‘½å**
   - ä½¿ç”¨å°å†™å­—æ¯å’Œè¿å­—ç¬¦
   - HTML æ–‡ä»¶å¯ä»¥æ˜¯ index.html æˆ–æè¿°æ€§åç§°

4. **è·¯å¾„å¼•ç”¨**
   - ä½¿ç”¨ç›¸å¯¹è·¯å¾„
   - é¿å…ç¡¬ç¼–ç ç»å¯¹è·¯å¾„

5. **ä»£ç ç»„ç»‡**
   - ç›¸å…³åŠŸèƒ½æ”¾åœ¨ä¸€èµ·
   - é¿å…å•ä¸ªæ–‡ä»¶è¿‡å¤§

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

1. æ·»åŠ æ„å»ºå·¥å…·ï¼ˆVite/Webpackï¼‰
2. ä½¿ç”¨TypeScriptå¢å¼ºç±»å‹å®‰å…¨
3. æ·»åŠ å•å…ƒæµ‹è¯•
4. é…ç½®CI/CDè‡ªåŠ¨éƒ¨ç½²
5. æ·»åŠ ä»£ç æ ¼å¼åŒ–å·¥å…·ï¼ˆPrettierï¼‰
6. ä½¿ç”¨ESLintè¿›è¡Œä»£ç æ£€æŸ¥
