# 测试指南

## 🧪 本地测试步骤

### 1. 测试字体大小变化

**前台测试：**
```bash
# 启动本地开发服务器
npm run dev
```

访问：`http://localhost:8788/index.html`

**检查点：**
- ✅ 菜品名称字体为 18px（比之前大）
- ✅ 价格字体为 20px（比之前大）
- ✅ 文字没有超出卡片边界
- ✅ 多个菜品时依然显示正常

---

### 2. 测试自定义分类功能

#### 步骤 1：添加自定义分类

1. 访问后台登录页：`http://localhost:8788/admin/login.html`
2. 使用默认账号登录：`admin` / `admin123`
3. 点击侧边栏"分类管理"
4. 点击"添加分类"按钮
5. 输入：
   - 分类名称：`小菜`
   - 分类键名：`xiaocai`
6. 保存

**预期结果：**
- ✅ 弹出"分类保存成功"提示
- ✅ 分类列表中出现"小菜"分类
- ✅ 可以看到"编辑"和"删除"按钮

#### 步骤 2：为自定义分类添加菜品

1. 点击侧边栏"当前菜单"
2. 找到新增的"小菜"分类区域
3. 点击"+ 添加小菜"按钮
4. 输入：
   - 菜品名称：`榨菜`
   - 价格：`2`
   - 勾选"推荐"
5. 保存

**预期结果：**
- ✅ "小菜"区域显示菜品计数（1）
- ✅ 菜品列表显示"榨菜 ¥2"
- ✅ 显示"推荐"标志

#### 步骤 3：保存并预览

1. 点击"保存当前菜单"按钮
2. 点击"预览菜单"按钮

**预期结果：**
- ✅ 前台显示"小菜"分类区域
- ✅ 显示刚添加的菜品
- ✅ 字体大小正常（18px/20px）

#### 步骤 4：测试Excel导入导出

**导出测试：**
1. 在"当前菜单"页面，点击"导出Excel"
2. 打开下载的Excel文件

**预期结果：**
- ✅ Excel包含所有分类（包括"小菜"）
- ✅ 数据完整，格式正确

**导入测试：**
1. 在Excel中添加一行：`小菜 | 泡菜 | 3元 | FALSE | TRUE`
2. 点击"导入Excel"，选择文件
3. 确认导入

**预期结果：**
- ✅ 导入成功提示
- ✅ "小菜"分类下新增"泡菜"菜品
- ✅ 菜品计数变为（2）

#### 步骤 5：测试删除分类

1. 回到"分类管理"
2. 点击"小菜"的删除按钮
3. 确认删除

**预期结果：**
- ✅ 弹出确认对话框
- ✅ 删除后分类列表不再显示"小菜"
- ✅ 回到"当前菜单"，"小菜"区域消失
- ✅ 该分类下的菜品被删除

---

### 3. 测试默认分类保护

1. 在"分类管理"页面
2. 查看默认分类（凉菜、热菜等）

**预期结果：**
- ✅ 默认分类显示"默认分类"标记
- ✅ 没有"编辑"和"删除"按钮
- ✅ 无法被删除

---

### 4. 测试主题适配

1. 切换到"主题设置"
2. 依次测试所有主题（春季、夏季、秋季、冬季、开门红）
3. 点击"应用主题"
4. 预览菜单

**预期结果：**
- ✅ 自定义分类使用循环配色
- ✅ 颜色与主题协调
- ✅ 所有分类都有配色

---

## 📊 测试检查清单

### 功能测试
- [ ] 字体大小增大（18px/20px）
- [ ] 添加自定义分类成功
- [ ] 为自定义分类添加菜品
- [ ] 前台正确显示自定义分类
- [ ] Excel导出包含自定义分类
- [ ] Excel导入自定义分类菜品
- [ ] 删除自定义分类成功
- [ ] 默认分类无法删除
- [ ] 所有主题都支持自定义分类

### UI/UX测试
- [ ] 字体没有超出边界
- [ ] 菜品间距合理
- [ ] 分类颜色美观
- [ ] 响应式布局正常
- [ ] 按钮交互正常

### 数据持久化测试
- [ ] 刷新页面后数据保留
- [ ] 重新登录后数据保留
- [ ] 清除浏览器缓存后数据库数据仍在

---

## 🐛 已知问题及解决方案

### 问题：刷新后自定义分类消失

**原因**：localStorage和数据库同步问题

**解决方案**：
1. 检查网络连接
2. 检查API是否正常响应
3. 查看浏览器控制台错误信息

### 问题：字体太大导致重叠

**原因**：菜品数量过多

**解决方案**：
- 系统会自动调整（7-8个菜品时字体缩小）
- 建议每个分类不超过6个菜品

---

## 📝 测试报告模板

```
测试日期：____/____/____
测试人员：____________
浏览器：____________ 版本：______

功能测试：
✅ 字体大小变化
✅ 添加自定义分类
✅ 菜品管理
✅ Excel导入导出
✅ 删除分类
✅ 主题适配

问题记录：
1. ___________________________
2. ___________________________

建议：
___________________________
```

---

## 🚀 部署前最终检查

在部署到生产环境前，确保：

- [ ] 所有测试通过
- [ ] 数据库已更新
- [ ] 备份了现有数据
- [ ] 在测试环境验证过
- [ ] 清除了测试数据
- [ ] 修改了默认密码

---

## 💡 提示

1. **测试顺序很重要**：先测试字体，再测试分类功能
2. **使用多个浏览器测试**：Chrome、Firefox、Edge
3. **测试不同分辨率**：确保响应式正常
4. **保存测试数据**：方便回归测试
